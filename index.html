<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" type="text/css" />
    <title>Laski mapa</title>
  </head>
  <body>
    <main>
      <div id="map-wrapper" class="map-wrapper">
        <img class="map" src="./assets/MAPY/MAPA_BEZ_IKONEK.png" />

        <img src="./assets/IKONKI/1.png" class="icon icon-1 el-1" />
        <img src="./assets/IKONKI/2.png" class="icon icon-2 el-2" />
        <img src="./assets/IKONKI/3.png" class="icon icon-3 el-3" />
        <img src="./assets/IKONKI/4.png" class="icon icon-4 el-4" />
        <img src="./assets/IKONKI/5.png" class="icon icon-5 el-5" />
        <img src="./assets/IKONKI/6.png" class="icon icon-6 el-6" />
        <img src="./assets/IKONKI/7.png" class="icon icon-7 el-7" />
        <img src="./assets/IKONKI/8.png" class="icon icon-8 el-8" />
        <img src="./assets/IKONKI/9.png" class="icon icon-9 el-9" />
        <img src="./assets/IKONKI/10.png" class="icon icon-10 el-10" />
        <img src="./assets/IKONKI/11.png" class="icon icon-11 el-11" />
        <img src="./assets/IKONKI/12.png" class="icon icon-12 el-12" />
        <img src="./assets/IKONKI/13.png" class="icon icon-13 el-13" />
        <img src="./assets/IKONKI/14.png" class="icon icon-14 el-14" />
        <img src="./assets/IKONKI/15.png" class="icon icon-15 el-15" />
        <img src="./assets/IKONKI/16.png" class="icon icon-16 el-16" />
        <img src="./assets/IKONKI/17.png" class="icon icon-17 el-17" />
        <img src="./assets/IKONKI/18.png" class="icon icon-18 el-18" />
        <img src="./assets/IKONKI/19.png" class="icon icon-19 el-19" />
        <img src="./assets/IKONKI/20.png" class="icon icon-20 el-20" />
        <img
          src="./assets/IKONKI/21_22.png"
          class="icon icon-21 icon-22 el-21 el-22"
        />
        <img src="./assets/IKONKI/23.png" class="icon icon-23 el-23" />
        <img src="./assets/IKONKI/24.png" class="icon icon-24 el-24" />
        <img src="./assets/IKONKI/25.png" class="icon icon-25 el-25" />
        <img src="./assets/IKONKI/26.png" class="icon icon-26 el-26" />
        <img src="./assets/IKONKI/27.png" class="icon icon-27 el-27" />
        <img src="./assets/IKONKI/28.png" class="icon icon-28 el-28" />
        <img src="./assets/IKONKI/29.png" class="icon icon-29 el-29" />
        <img src="./assets/IKONKI/30.png" class="icon icon-30 el-30" />
        <img src="./assets/IKONKI/31.png" class="icon icon-31 el-31" />
        <img src="./assets/IKONKI/32.png" class="icon icon-32 el-32" />
        <img src="./assets/IKONKI/33.png" class="icon icon-33 el-33" />
        <img src="./assets/IKONKI/34.png" class="icon icon-34 el-34" />

        <img src="./assets/CHORAGIEWKI/1.png" class="label label-1 el-1" />
        <img src="./assets/CHORAGIEWKI/2.png" class="label label-2 el-2" />
        <img src="./assets/CHORAGIEWKI/3.png" class="label label-3 el-3" />
        <img src="./assets/CHORAGIEWKI/4.png" class="label label-4 el-4" />
        <img src="./assets/CHORAGIEWKI/5.png" class="label label-5 el-5" />
        <img src="./assets/CHORAGIEWKI/6.png" class="label label-6 el-6" />
        <img src="./assets/CHORAGIEWKI/7.png" class="label label-7 el-7" />
        <img src="./assets/CHORAGIEWKI/8.png" class="label label-8 el-8" />
        <img src="./assets/CHORAGIEWKI/9.png" class="label label-9 el-9" />
        <img src="./assets/CHORAGIEWKI/10.png" class="label label-10 el-10" />
        <img src="./assets/CHORAGIEWKI/11.png" class="label label-11 el-11" />
        <img src="./assets/CHORAGIEWKI/12.png" class="label label-12 el-12" />
        <img src="./assets/CHORAGIEWKI/13.png" class="label label-13 el-13" />
        <img src="./assets/CHORAGIEWKI/14.png" class="label label-14 el-14" />
        <img src="./assets/CHORAGIEWKI/15.png" class="label label-15 el-15" />
        <img src="./assets/CHORAGIEWKI/16.png" class="label label-16 el-16" />
        <img src="./assets/CHORAGIEWKI/17.png" class="label label-17 el-17" />
        <img src="./assets/CHORAGIEWKI/18.png" class="label label-18 el-18" />
        <img src="./assets/CHORAGIEWKI/19.png" class="label label-19 el-19" />
        <img src="./assets/CHORAGIEWKI/20.png" class="label label-20 el-20" />
        <img src="./assets/CHORAGIEWKI/21.png" class="label label-21 el-21" />
        <img src="./assets/CHORAGIEWKI/22.png" class="label label-22 el-22" />
        <img src="./assets/CHORAGIEWKI/23.png" class="label label-23 el-23" />
        <img src="./assets/CHORAGIEWKI/24.png" class="label label-24 el-24" />
        <img src="./assets/CHORAGIEWKI/25.png" class="label label-25 el-25" />
        <img src="./assets/CHORAGIEWKI/26.png" class="label label-26 el-26" />
        <img src="./assets/CHORAGIEWKI/27.png" class="label label-27 el-27" />
        <img src="./assets/CHORAGIEWKI/28.png" class="label label-28 el-28" />
        <img src="./assets/CHORAGIEWKI/29.png" class="label label-29 el-29" />
        <img src="./assets/CHORAGIEWKI/30.png" class="label label-30 el-30" />
        <img src="./assets/CHORAGIEWKI/31.png" class="label label-31 el-31" />
        <img src="./assets/CHORAGIEWKI/32.png" class="label label-32 el-32" />
        <img src="./assets/CHORAGIEWKI/33.png" class="label label-33 el-33" />
        <img src="./assets/CHORAGIEWKI/34.png" class="label label-34 el-34" />
      </div>
      <audio controls class="audio-1">
        <source src="./assets/NAGRANIA/1.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-3">
        <source src="./assets/NAGRANIA/3.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-4">
        <source src="./assets/NAGRANIA/4.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-5">
        <source src="./assets/NAGRANIA/5.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-6">
        <source src="./assets/NAGRANIA/6.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-7">
        <source src="./assets/NAGRANIA/7.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-9">
        <source src="./assets/NAGRANIA/9.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-10">
        <source src="./assets/NAGRANIA/10.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-11">
        <source src="./assets/NAGRANIA/11.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-12">
        <source src="./assets/NAGRANIA/12.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-13">
        <source src="./assets/NAGRANIA/13.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-14">
        <source src="./assets/NAGRANIA/14.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-15">
        <source src="./assets/NAGRANIA/15.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-16">
        <source src="./assets/NAGRANIA/16.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-17">
        <source src="./assets/NAGRANIA/17.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-18">
        <source src="./assets/NAGRANIA/18.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-19">
        <source src="./assets/NAGRANIA/19.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-20">
        <source src="./assets/NAGRANIA/20.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-21">
        <source src="./assets/NAGRANIA/21.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-23">
        <source src="./assets/NAGRANIA/23.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-24">
        <source src="./assets/NAGRANIA/24.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-25">
        <source src="./assets/NAGRANIA/25.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-26">
        <source src="./assets/NAGRANIA/26.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-26-01">
        <source src="./assets/NAGRANIA/26.01.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-28">
        <source src="./assets/NAGRANIA/28.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-29">
        <source src="./assets/NAGRANIA/29.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-30">
        <source src="./assets/NAGRANIA/30.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-31">
        <source src="./assets/NAGRANIA/31.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
      <audio controls class="audio-34">
        <source src="./assets/NAGRANIA/34.mp3" type="audio/mp3" />
        Your browser does not support the audio element.
      </audio>
    </main>

    <script>
      // Array.from polyfill ---------------------------------------------
      // Production steps of ECMA-262, Edition 6, 22.1.2.1
      if (!Array.from) {
        Array.from = (function () {
          var symbolIterator;
          try {
            symbolIterator = Symbol.iterator
              ? Symbol.iterator
              : "Symbol(Symbol.iterator)";
          } catch (e) {
            symbolIterator = "Symbol(Symbol.iterator)";
          }

          var toStr = Object.prototype.toString;
          var isCallable = function (fn) {
            return (
              typeof fn === "function" || toStr.call(fn) === "[object Function]"
            );
          };
          var toInteger = function (value) {
            var number = Number(value);
            if (isNaN(number)) return 0;
            if (number === 0 || !isFinite(number)) return number;
            return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));
          };
          var maxSafeInteger = Math.pow(2, 53) - 1;
          var toLength = function (value) {
            var len = toInteger(value);
            return Math.min(Math.max(len, 0), maxSafeInteger);
          };

          var setGetItemHandler = function setGetItemHandler(
            isIterator,
            items
          ) {
            var iterator = isIterator && items[symbolIterator]();
            return function getItem(k) {
              return isIterator ? iterator.next() : items[k];
            };
          };

          var getArray = function getArray(
            T,
            A,
            len,
            getItem,
            isIterator,
            mapFn
          ) {
            // 16. Let k be 0.
            var k = 0;

            // 17. Repeat, while k < len… or while iterator is done (also steps a - h)
            while (k < len || isIterator) {
              var item = getItem(k);
              var kValue = isIterator ? item.value : item;

              if (isIterator && item.done) {
                return A;
              } else {
                if (mapFn) {
                  A[k] =
                    typeof T === "undefined"
                      ? mapFn(kValue, k)
                      : mapFn.call(T, kValue, k);
                } else {
                  A[k] = kValue;
                }
              }
              k += 1;
            }

            if (isIterator) {
              throw new TypeError(
                "Array.from: provided arrayLike or iterator has length more then 2 ** 52 - 1"
              );
            } else {
              A.length = len;
            }

            return A;
          };

          // The length property of the from method is 1.
          return function from(arrayLikeOrIterator /*, mapFn, thisArg */) {
            // 1. Let C be the this value.
            var C = this;

            // 2. Let items be ToObject(arrayLikeOrIterator).
            var items = Object(arrayLikeOrIterator);
            var isIterator = isCallable(items[symbolIterator]);

            // 3. ReturnIfAbrupt(items).
            if (arrayLikeOrIterator == null && !isIterator) {
              throw new TypeError(
                "Array.from requires an array-like object or iterator - not null or undefined"
              );
            }

            // 4. If mapfn is undefined, then let mapping be false.
            var mapFn = arguments.length > 1 ? arguments[1] : void undefined;
            var T;
            if (typeof mapFn !== "undefined") {
              // 5. else
              // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.
              if (!isCallable(mapFn)) {
                throw new TypeError(
                  "Array.from: when provided, the second argument must be a function"
                );
              }

              // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.
              if (arguments.length > 2) {
                T = arguments[2];
              }
            }

            // 10. Let lenValue be Get(items, "length").
            // 11. Let len be ToLength(lenValue).
            var len = toLength(items.length);

            // 13. If IsConstructor(C) is true, then
            // 13. a. Let A be the result of calling the [[Construct]] internal method
            // of C with an argument list containing the single item len.
            // 14. a. Else, Let A be ArrayCreate(len).
            var A = isCallable(C) ? Object(new C(len)) : new Array(len);

            return getArray(
              T,
              A,
              len,
              setGetItemHandler(isIterator, items),
              isIterator,
              mapFn
            );
          };
        })();
      }
      // -------------------------

      const iconsAndLabels = Array.from(
        document.querySelectorAll("img")
      ).filter((img) => RegExp(/\d+/).exec(img.className));
      const audioElements = Array.from(document.querySelectorAll("audio"));
      const labels = iconsAndLabels.filter((el) =>
        el.className.includes("label")
      );

      iconsAndLabels.forEach((img) =>
        img.addEventListener("click", () => {
          const elementNumber = RegExp(/\d+\.png$/)
            .exec(img.src)[0]
            .slice(0, -4);
          const audioElement =
            elementNumber === "22"
              ? document.querySelector(".audio-21")
              : document.querySelector(".audio-" + elementNumber);
          const labelElement =
            elementNumber === "22"
              ? labels.find((label) => label.className.includes("21"))
              : labels.find((label) => label.className.includes(elementNumber));

          hideAllLabels();
          puaseAndHideAllAudio();

          if (audioElement) {
            audioElement.play();
            audioElement.className = audioElement.className + " show";
            labelElement.className = labelElement.className + " show";

            // leśniczówka
            if (elementNumber === "26") {
              const secondAudioElement = document.querySelector(".audio-26-01");
              secondAudioElement.className =
                secondAudioElement.className + " show";
            }
          }
        })
      );

      document.querySelector(".map").addEventListener("click", () => {
        hideAllLabels();
        puaseAndHideAllAudio();
      });

      function puaseAndHideAllAudio() {
        audioElements.forEach((el) => {
          el.pause();
          if (el.className.includes(" show"))
            el.className = el.className.slice(0, -5);
        });
      }

      function hideAllLabels() {
        labels.forEach((el) => {
          if (el.className.includes(" show"))
            el.className = el.className.slice(0, -5);
        });
      }
    </script>
  </body>
</html>
